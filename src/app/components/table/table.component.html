<div class="content-wrapper">
  <!-- Dynamic table -->
  <mat-card>
    <mat-card-header>
      <mat-icon mat-card-avatar>edit</mat-icon>
      <mat-card-title>Dynamic tables</mat-card-title>
      <mat-card-subtitle>Module</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <!-- Options -->
      <form #form="ngForm">

        <mat-tab-group>
          <!-- Table -->
          <mat-tab label="Table options">
            <div class="row">
              <div class="column">
                <mat-slide-toggle name="filter" [(ngModel)]="tableConfig.filter">
                  Filtering
                </mat-slide-toggle>
              </div>
              <div class="column">
                <mat-slide-toggle name="paging" [(ngModel)]="tableConfig.paging" (change)="renderTable()">
                  Paging
                </mat-slide-toggle>
              </div>
              <div class="column">
                <mat-slide-toggle name="dragging" [(ngModel)]="tableConfig.dragging">
                  Dragging
                </mat-slide-toggle>
              </div>
              <div class="column">
                <mat-slide-toggle name="stickyHeaders" [(ngModel)]="tableConfig.stickyHeaders">
                  Sticky Headers
                </mat-slide-toggle>
              </div>
              <div class="column">
                <mat-slide-toggle name="sorting" [(ngModel)]="tableConfig.sorting">
                  Sorting
                </mat-slide-toggle>
              </div>
              <div class="column">
                <mat-slide-toggle name="selecting" [(ngModel)]="tableConfig.selecting" (change)="renderTable()">
                  Selecting
                </mat-slide-toggle>
              </div>
              <div class="column">
                <mat-slide-toggle name="expanding" [(ngModel)]="tableConfig.expanding">
                  Expanding
                </mat-slide-toggle>
              </div>
              <div class="column">
                <mat-slide-toggle name="stickyFooters" [(ngModel)]="tableConfig.stickyFooters">
                  Sticky Footers
                </mat-slide-toggle>
              </div>
            </div>
            <div class="row">
              <div class="column">
                <mat-form-field [appearance]="tableConfig.filterAppearance" [color]="tableConfig.filterColor"
                  class="form-field">
                  <mat-label>Filter appearance</mat-label>
                  <mat-select name="filterAppearance" [(ngModel)]="tableConfig.filterAppearance">
                    <mat-option *ngFor="let option of appearanceOptions" [value]="option">{{option}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="column">
                <mat-form-field [appearance]="tableConfig.filterAppearance" [color]="tableConfig.filterColor"
                  class="form-field">
                  <mat-label>Filter label</mat-label>
                  <input matInput name="filterLabel" [(ngModel)]="tableConfig.filterLabel">
                </mat-form-field>
              </div>
              <div class="column">
                <mat-form-field [appearance]="tableConfig.filterAppearance" [color]="tableConfig.filterColor"
                  class="form-field">
                  <mat-label>ScrollY</mat-label>
                  <input matInput name="scrollY" [(ngModel)]="tableConfig.scrollY">
                </mat-form-field>
              </div>
              <div class="column">
                <mat-form-field [appearance]="tableConfig.filterAppearance" [color]="tableConfig.filterColor"
                  class="form-field">
                  <mat-label>ScrollX</mat-label>
                  <input matInput name="scrollX" [(ngModel)]="tableConfig.scrollX">
                </mat-form-field>
              </div>
            </div>
          </mat-tab>

          <!-- Column -->
          <mat-tab label="Column options">
            <div class="row">
              <div class="column">
                <mat-slide-toggle name="sortable" [(ngModel)]="columnConfig[1].sortable">
                  Sortable
                </mat-slide-toggle>
              </div>
              <div class="column">
                <mat-slide-toggle name="draggable" [(ngModel)]="columnConfig[1].draggable">
                  Draggable
                </mat-slide-toggle>
              </div>
              <div class="column">
                <mat-slide-toggle name="expandable" [(ngModel)]="columnConfig[1].expandable" (change)="renderTable()">
                  Expandable
                </mat-slide-toggle>
              </div>
            </div>
            <div class="row">
              <div class="column">
                <mat-form-field [appearance]="tableConfig.filterAppearance" [color]="tableConfig.filterColor"
                  class="form-field">
                  <mat-label>Footer</mat-label>
                  <input matInput name="footer" [(ngModel)]="columnConfig[1].footer">
                </mat-form-field>
              </div>
              <div class="column">
                <mat-form-field [appearance]="tableConfig.filterAppearance" [color]="tableConfig.filterColor"
                  class="form-field">
                  <mat-label>Header</mat-label>
                  <input matInput name="header" [(ngModel)]="columnConfig[1].header">
                </mat-form-field>
              </div>
              <div class="column">
                <mat-form-field [appearance]="tableConfig.filterAppearance" [color]="tableConfig.filterColor"
                  class="form-field">
                  <mat-label>Sticky</mat-label>
                  <mat-select name="sticky" [(ngModel)]="columnConfig[1].sticky">
                    <mat-option value="">no</mat-option>
                    <mat-option value="start">start</mat-option>
                    <mat-option value="end">end</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
          </mat-tab>
        </mat-tab-group>
      </form>
    </mat-card-content>
  </mat-card>
  
  <!-- Dynamic table outlet -->
  <mat-card style="margin-top: 16px;">
    <mat-card-content>
      <ng-container #outlet>
      </ng-container>
    </mat-card-content>
  </mat-card>

  <!-- Dynamic table template -->
  <ng-template #content>
    <app-dynamic-table [tableConfig]="tableConfig" [columnConfig]="columnConfig" [data]="(data$ | async)!"
      (selectionChange)="handleSelectionChangeEvent($event)" (buttonClick)="handleButtonClickEvent($event)">
    </app-dynamic-table>
  </ng-template>

</div>